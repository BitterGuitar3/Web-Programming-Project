<!DOCTYPE html>
<link rel="stylesheet" href="index.css">
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>Contact</title>
    </head>

    <body>
        <!--A Header that will be at the top of each page and act as the navigator-->
        <header>
            <h1>Italian Restraunt</h1>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="menu.html">Menu</a></li>
                    <li><a href="order.html">Order</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>
            </nav>
        </header>

        <!--Should have Address, Phone, email, social media, and geolocation-->
        <main>
            <div class="contactInfo"> <!--The contact page-->
                <div class="pageName">
                    <h2>Contact Information</h2>
                </div>
                <div class="box"> <!--The section with the contact cards-->
                    <div class="card">
                        <img src="phone_icon.png" width="50" height="50" alt="Phone Icon"></img>
                        <h3 class="cardName">Phone</h3>
                        <p>1-(123)-456-7890 <br> OR <br>
                            1-(123)-456-0987
                        </p>
                    </div>
                    <div class="card">
                        <img src="email_icon.png" width="50" height="50" alt="Email Icon"></img>
                        <h3 class="cardName">Email</h3>
                        <p>italianrestraunt@gmail.com</p>
                        <p>or</p>
                        <p><a class="mail_btn" href="mailto:person@example.com">Click Here!</a></p>
                    </div>
                    <div class="card">
                        <img src="address_icon.webp" width="50" height="50" alt="Address Icon"></img>
                        <h3 class="cardName">Address</h3>
                        <p>North Georgia Office <br>
                            4440 Keith Bridge Rd. Cumming, GA 30041</p>
                    </div>
                    <div class="card">
                        <img src="socials_icon.png" width="50" height="50" alt="Social media Icon"></img>
                        <h3 class="cardName">Socials</h3>
                        <div class="icons">
                            <!--Icons for different social media. Needs to be clickable, but currently struggling with that at the moment.-->
                            <a href="https://www.facebook.com"><img src="facebook.png" class="social_icon"></a>
                            <a href="https://www.instagram.com"><img src="instagram.png" class="social_icon"></a>
                            <a href="https://twitter.com"><img src="twitter.png" class="social_icon"></a>
                        </div>
                    </div>
                </div>
            </div>

            <div class="application">
                <h3>Apply to Work Here</h3>
                <form class="applyForm" action="contact.html">
                    <label class="applyLable" for="fname">Full name:</label>
                    <input class="applyInputs" type="text" id="fname" name="fname" required>
                    <br>
                    <label class="applyLable" for="email">Email Address:</label>
                    <input class="applyInputs" type="email" id="email" placeholder="email@domain.com" required>
                    <br>
                    <label class="applyLable" for="phone number">Phone:</label>
                    <input class="applyInputs" type="tel" id="phone" placeholder="(###)-###-####" pattern="[0-9]{3}-[0-9]{3}-[0-9]{4}" required>
                    <br>
                    <label class="applyLable" for="lname">Tell us about yourself:</label>
                    <textarea class="applyInputs" id="about" name="summary" rows="6" cols="35">Max: 200 words</textarea>
                    <br>
                    <label class="applyLable" for="myfile">Upload a resume:</label>
                    <input class="applyInputs" type="file" id="myfile" name="myfile" accept=".pdf, .doc, .docx" required>
                    <br>
                    <p>
                        <input class="applyInputs" type="submit" id="submit" name="Submit" value="Submit" >
                    </p>
                </form>
            </div>
        </main>

        <!--This is where there will be an accesibility statement as well a smalller more basic version of navigation that is provided at the top-->
        <footer>
            <div class="accessibility">
                <h3><strong>Accessibility Statement</strong></h3>
                <p>At [Restaurant Name], we are committed to ensuring that our website is accessible to everyone, regardless of ability or technology.
                    We strive to maintain compliance with the Web Content Accessibility Guidelines (WCAG) 2.1.
                </p>
                <!--A smaller and more basic navigation bar in case user does not want to scroll up-->
                <nav class="mini-nav">
                    <ul>
                        <li><a href="index.html">Home</a></li>
                        <li><a href="menu.html">Menu</a></li>
                        <li><a href="order.html">Order</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </nav>
            </div>
        </footer>

        <script>
            document.addEventListener("DOMContentLoaded", function () {
                let button = document.getElementById("submit");
                button.addEventListener("click", saveForm);
            });

            function saveForm() {
                //If form is valid, save form information into local storage (normally would be sent to a server as it is an application)
                if (validateForm){
                    localStorage.setItem("name", document.getElementById("fname").value);
                    localStorage.setItem("email", document.getElementById("email").value);
                    localStorage.setItem("phone", document.getElementById("phone").value);
                    localStorage.setItem("about", document.getElementById("about").value);
                    localStorage.setItem("resume", document.getElementById("myFile").value);
                }
            }

            function validateForm() {
                try {
                    var fname = document.getElementById("fname");
                    var email = document.getElementById("email");
                    var phone = document.getElementById("phone");
                    var resume = document.getElementById("myFile");

                    // Remove existing error styles
                    removeErrorStyles([fname, email, phone, resume]);
        
                    //Validation check
                    if (fname.value.trim().length < 1 || fname.value == null) {
                        throwValidationError(fname, 'Please enter your full name.');
                    }

                    //Validation check for email
                    var emailRegex = /^\S+@\S+\.\S+$/;
                    if (!emailRegex.test(email.value.trim())) {
                        throwValidationError(email, 'Please enter your email address.');
                    }

                    //Validation check for phone number
                    var phoneRegex = /^\d{3}-\d{3}-\d{4}$/;
                    if (!phoneRegex.test(phone.value.trim())) {
                        throwValidationError(phone, 'Please enter your phone number.');
                    }

                    // Check if a file has been selected for the resume
                    if (!resume.value) {
                        throwValidationError(resume, 'Please upload your resume.');
                    }
        
                    return true; // Submit the form if all checks pass

                } catch (error) {
                    alert(error.message);
                    return false; // Prevent form submission if an error occurs
                }
            }

            function throwValidationError(element, message) {
                alert(message);
                element.classList.add('error');
                throw new Error(message);
            }

            function removeErrorStyles(elements) {
                elements.forEach(element => {
                    element.classList.remove('error');
                });
            }
        </script>
        
    </body>
</html>